---
layout: post
title: 'log4net: filtering by logger name with external libraries'
date: '2014-04-07T09:07:00.001+01:00'
author: SÃ©rgio Agostinho
tags:
- ".Net"
- logging
- Quartz.NET
- log4net
- CommonLogging
modified_time: '2015-05-13T22:30:31.414+01:00'
blogger_id: tag:blogger.com,1999:blog-6105644668642718046.post-4540395950260395510
blogger_orig_url: http://sergioagostinho-dev.blogspot.com/2014/04/log4net-filtering-by-logger-name-with.html
---

<br />When using third-party libraries and <a href="http://netcommon.sourceforge.net/">Common.Logging</a>, if you are relying on the root logger, you might end up catching the log entries from the third-part library. While this might usefull when debugging, it might also be annoying, specially if the library is quite verbose. One of such libraries is <a href="http://www.quartz-scheduler.net/">Quartz.NET</a>.<br /><br />Luckily, <a href="https://logging.apache.org/log4net">log4net </a>is flexible enough to allow us to redirect those entries to a different appender (or to turn them off completely) via the <a href="http://logging.apache.org/log4net/release/manual/configuration.html">filter</a> mechanism. My first approach was to add the following to all the appenders that I did <b>not</b> want to include Quartz log entries (notice that you must include the namespace for all the classes):<br /><br /><pre>&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Core.QuartzScheduler</span>" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Core.SchedulerSignalerImp</span>l" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Impl.AdoJobStore.JobStoreTX</span>" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Impl.AdoJobStore.StdRowLockSemaphore</span>" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Impl.StdSchedulerFactor</span>y" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Plugin.Xml.XMLSchedulingDataProcessorPlugin</span>" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.Util.DBConnectionManage</span>r" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &lt;acceptOnMatch value="false" /&gt;<br /><br />&nbsp; &nbsp; &nbsp; &lt;/filter&gt;<br /><br /></pre><div>Then I added the following to a new appender in which I want to catch <b>only </b>the Quartz.NET log entries:<br /><br /></div><pre>      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Core.QuartzScheduler" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Core.SchedulerSignalerImpl" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Impl.AdoJobStore.JobStoreTX" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Impl.AdoJobStore.StdRowLockSemaphore" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Impl.StdSchedulerFactory" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Plugin.Xml.XMLSchedulingDataProcessorPlugin" /&gt;<br /><br />      &lt;/filter&gt;<br /><br />      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz.Util.DBConnectionManager" /&gt;<br /><br />      &lt;/filter&gt;<br /></pre><br />While this works, it seemed at little cumbersome to have to write all the classes that are appenders, so I investigated a little further and found out that you can use only a prefix of the namespace instead of the full class name, so you can just include the following in the appenders in which you want to <b>remove </b>(notice the final dot "." in the namespace):<br /><br /><pre>      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="<span style="background-color: yellow; color: black;">Quartz.</span>" /&gt;<br /><br />        &lt;acceptOnMatch value="false" /&gt;<br /><br />      &lt;/filter&gt;<br /></pre><br />And the following in the appenders in you wish to <b>include</b>:<br /><br /><pre>      &lt;filter type="log4net.Filter.LoggerMatchFilter"&gt;<br /><br />        &lt;loggerToMatch value="Quartz." /&gt;<br /><br />      &lt;/filter&gt;<br /></pre><br /><br />sources: <a href="http://www.beefycode.com/post/Log4Net-Tutorial-pt-7-Filters.aspx" target="_blank">beefy code tutorial</a> and log4net documentation